<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prognos: Chart your path.</title>
    <!-- html2canvas 라이브러리 로드 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* 1. 폰트 설정 (로컬 파일 직접 참조) */
        @font-face {
            font-family: 'Pretendard';
            src: url('fonts/PretendardVariable.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Paperlogy';
            src: url('fonts/Paperlogy-4Regular.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }

        /* 2. 컬러 테마 변수 설정 */
        :root { /* 기본 테마 (Default Light) */
            --font-title: 'Paperlogy', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --font-body: 'Pretendard', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            
            --color-background: #f8f9fa;
            --color-surface: #ffffff;
            --color-text-primary: #212529;
            --color-text-secondary: #495057;
            --color-accent: #007bff;
            --color-accent-darker: #0056b3;
            --color-border: #dee2e6;
            --color-card-bg: #f1f3f5;
            
            --status-completed: #28a745;
            --status-inprogress: #ffc107;
            --status-inprogress-text: #333;
            --status-planned: #6c757d;
        }

        body[data-theme="aetherial-light"] {
            --color-background: #FDFEFF;
            --color-surface: #FFFFFF;
            --color-text-primary: #343A40;
            --color-text-secondary: #6C757D;
            --color-border: #E3E8EC;
            --color-accent: #86B3D1;
            --color-accent-darker: #6A9FB9;
            --color-card-bg: #F8F9FA;
            
            --status-completed: #63C0A3;
            --status-inprogress: #F0D68A;
            --status-inprogress-text: #594812;
            --status-planned: #AAB3BC;
        }

        body[data-theme="nordic-noir"] {
            --color-background: #2E3440;
            --color-surface: #3B4252;
            --color-text-primary: #ECEFF4;
            --color-text-secondary: #D8DEE9;
            --color-border: #4C566A;
            --color-accent: #88C0D0;
            --color-accent-darker: #B4E5F3;
            --color-card-bg: #292E39;

            --status-completed: #A3BE8C;
            --status-inprogress: #EBCB8B;
            --status-inprogress-text: #3B4252;
            --status-planned: #B48EAD;
        }

        /* 3. 기본 스타일 및 레이아웃 */
        body {
            font-family: var(--font-body);
            line-height: 1.75;
            background-color: var(--color-background);
            color: var(--color-text-primary);
            margin: 0;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s, color 0.3s;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 800px;
            width: 95%;
            margin: 0 auto;
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 2rem 3rem;
            box-sizing: border-box;
            transition: background-color 0.3s, border-color 0.3s;
        }
        
        @media (max-width: 768px) {
            body { padding-top: 1rem; padding-bottom: 1rem; }
            .container {
                width: 100%;
                padding: 1.5rem;
                border-radius: 0;
                border: solid var(--color-border);
                border-width: 1px 0;
            }
        }

        /* 4. 테마 및 저장 버튼 스타일 */
        .controls-wrapper {
            max-width: 800px;
            width: 95%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .theme-switcher button, #save-btn {
            background-color: var(--color-surface);
            color: var(--color-text-secondary);
            border: 1px solid var(--color-border);
            padding: 8px 15px;
            font-size: 14px;
            font-family: var(--font-body);
            font-weight: 500;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
        }

        .theme-switcher button.active {
            background-color: var(--color-accent);
            color: var(--color-surface);
            border-color: var(--color-accent);
            font-weight: bold;
        }

        #save-btn {
            background-color: var(--color-accent);
            color: var(--color-surface);
            font-weight: bold;
            border: 1px solid var(--color-accent);
        }
        
        #save-btn:hover {
            background-color: var(--color-accent-darker);
            border-color: var(--color-accent-darker);
        }

        /* 5. 타이포그래피 (제목, 본문 등) */
        h1, h2, h3, h4 {
            font-family: var(--font-title);
            font-weight: 700;
            line-height: 1.3;
            color: var(--color-text-primary);
            word-break: keep-all;
        }

        h1 { font-size: 2.5rem; text-align: center; margin-bottom: 0.5rem; }
        h2 { font-size: 1.8rem; margin-top: 3rem; margin-bottom: 1.5rem; padding-bottom: 0.75rem; border-bottom: 2px solid var(--color-accent); }
        h3 { font-size: 1.4rem; margin-top: 2.5rem; margin-bottom: 1rem; color: var(--color-text-secondary); }
        p, ul, ol { margin-bottom: 1.25rem; text-align: justify; }
        ul, ol { padding-left: 1.5rem; }
        li { margin-bottom: 0.5rem; }

        strong { font-weight: 600; color: var(--color-accent); }
        code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; background-color: var(--color-card-bg); padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 3px; }

        /* 6. 컴포넌트 스타일 */
        .header-meta { text-align: center; font-size: 0.9rem; color: var(--color-text-secondary); margin-bottom: 2rem; }
        .revision-history { background-color: var(--color-card-bg); border: 1px solid var(--color-border); border-radius: 4px; padding: 1.5rem; margin: 2rem 0 3rem 0; }
        .revision-history ul { padding-left: 1.2rem; margin-bottom: 0; }
        .revision-history li { font-size: 0.95rem; }
        .status { font-weight: bold; padding: 0.1em 0.5em; border-radius: 4px; font-size: 0.9em; color: white; }
        .status.completed { background-color: var(--status-completed); }
        .status.in-progress { background-color: var(--status-inprogress); color: var(--status-inprogress-text); }
        .status.planned { background-color: var(--status-planned); }
        .model-card { margin-top: 1.5rem; padding: 1.5rem; border-left: 4px solid var(--color-accent); background-color: var(--color-card-bg); }
        .model-card .card-title { font-family: var(--font-title); font-size: 1.1rem; font-style: italic; color: var(--color-text-secondary); margin: 0 0 1rem 0; }
        .model-card ul { margin-bottom: 0; }

    </style>
</head>
<body data-theme="default-light">

    <!-- 컨트롤 영역: 테마 선택 및 저장 버튼 -->
    <div class="controls-wrapper">
        <div class="theme-switcher">
            <button data-theme="default-light" class="active">기본</button>
            <button data-theme="aetherial-light">Aetherial Light</button>
            <button data-theme="nordic-noir">Nordic Noir</button>
        </div>
        <button id="save-btn">이 기획서 이미지로 저장하기</button>
    </div>

    <!-- 캡처될 콘텐츠 영역 -->
    <div class="container" id="capture-area">
        <!-- 머리말 -->
        <h1>― Prognos ―</h1>
        <p class="header-meta">개인용 주식 차트 예측 로컬 웹 서비스 개발 기획서 (Ver. 6.0)</p>
        
        <div class="revision-history">
            <p style="margin-bottom: 0.5rem; font-weight: bold;"><strong>최종 수정일:</strong> 2025년 10월 6일</p>
            <p style="margin-bottom: 1rem; font-weight: bold;"><strong>리비전 히스토리:</strong></p>
            <ul>
                <li><strong>Ver 5.4:</strong> 시계열 데이터 분할 전략(시간 순서 분할)을 최종 확정. '풀 데이터 재학습' 단계를 공식 평가 프로세스에 추가. UI 프로토타입 개발 착수.</li>
                <li><strong>Ver 5.5:</strong> 4세대 앙상블 모델 훈련 완료 및 1차 성능 평가(MAPE 4.73%)를 통해 아키텍처의 유효성 검증.</li>
                <li><strong>Ver 6.0 (현재 버전):</strong> 평가 철학에 대한 심도 깊은 재논의를 통해, 모델의 일반화 능력을 입체적으로 검증하기 위한 <strong>'사전학습-미세조정(Pre-training & Fine-tuning)' 하이브리드 전략을 공식 도입.</strong> 이에 따라 개발 로드맵을 <strong>Phase 7</strong>까지 확장하고, 두 가지의 서로 다른 검증 방식('패턴 번역 능력' 및 '미래 예측 능력')을 모두 측정하여 모델의 성능을 종합적으로 평가하기로 최종 확정.</li>
            </ul>
        </div>
        
        <!-- 본문 내용 -->
        <section>
            <h2>1. 프로젝트 개요</h2>
            <p><strong>'프로그노스(Prognos)'</strong>는 다수의 미국 상장 주식 및 ETF의 일봉(Daily Chart) 데이터를 기반으로 딥러닝 모델을 학습하여, <strong>미래 20거래일(약 1개월) 동안의 중기적 주가 추세 및 캔들 패턴을 예측</strong>하는 개인용 학습 및 분석 도구 개발을 목표로 합니다.</p>
            <p>본 프로젝트의 핵심 철학은 특정 종목이나 시간에만 의존하는 것이 아니라, 시장 전반에 걸쳐 반복되는 <strong>'보편적인 패턴 원리(Universal Pattern Principles)'</strong>를 학습하고 일반화하는 것입니다. 이를 위해 프로젝트는 두 가지 핵심 목표를 동시에 추구합니다.</p>
            <ol>
                <li><strong>패턴 번역기 (Pattern Translator):</strong> 시간과 종목을 초월하여 반복되는 시장의 '언어'와 '문법'을 이해하고 번역하는 강력한 표현 학습(Representation Learning) 모델을 구축합니다.</li>
                <li><strong>미래 예측 시뮬레이터 (Forecasting Simulator):</strong> 실제 사용 환경을 완벽하게 모방한 정직한 평가 방법론 위에서, 학습된 패턴 지식을 바탕으로 미지의 미래를 예측하는 신뢰성 있는 능력을 확보합니다.</li>
            </ol>
            <p>궁극적으로 프로그노스는 이 두 가지 목표를 달성하기 위해 <strong>'표현 학습과 예측의 분리(Representation-Forecasting Decoupling)'</strong>라는 현대적인 접근법을 채택하여, 금융 시계열 예측의 한계에 도전하고 그 과정을 학습하는 것을 지향합니다.</p>
        </section>
        
        <section>
            <h2>2. 단계적 개발 로드맵</h2>
            
            <h3>Phase 1 (MVP - Minimum Viable Product)</h3>
            <p><strong>목표:</strong> 다수 종목 데이터를 통합하여 미래 20거래일의 OHLC 캔들을 예측하는 범용 모델을 완성하고, 백테스팅을 통해 MVP 성공 기준을 충족하는지 검증. ("MVP 성공 기준": Directional Accuracy (20일 후 종가 기준): 최소 <strong>55% 이상</strong>, MAPE (Mean Absolute Percentage Error, 20일 예측 평균): <strong>5% 이내</strong>)</p>
            <p><strong>진행 상태:</strong> <span class="status completed">공식적으로 목표 달성 완료.</span> (MAPE 4.48%, 방향 정확도 56.34%)</p>

            <h3>Phase 1.5 (심층 진단 및 모델 재평가)</h3>
            <p><strong>목표:</strong> Phase 1의 성공이 모델의 진짜 실력인지, 혹은 'Smoothing Bias(평활화 편향)' 및 '시장 추종성'에 의한 착시 현상인지 과학적으로 검증.</p>
            <p><strong>진행 상태:</strong> <span class="status completed">공식적으로 완료.</span> (`diagnose_model.py`를 통해 모델의 명확한 한계와 개선 방향을 도출.)</p>

            <h3>Phase 2 (모델 고도화 및 환경 이전)</h3>
            <p><strong>목표:</strong> 모델의 한계를 개선하기 위한 전략(데이터 다양화, 커스텀 손실 함수 등)을 적용하고, 안정적인 GPU 가속 환경에서 새로운 모델을 성공적으로 훈련.</p>
            <p><strong>진행 상태:</strong> <span class="status completed">완료.</span> (개발 환경 WSL2로 이전 및 GPU 인식 확인 완료.)</p>

            <h3>Phase 3 (3세대 앙상블 모델 개발)</h3>
            <p><strong>목표:</strong> 데이터셋을 대규모로 확장하고, '앙상블(Ensemble)' 기법을 도입하여 모델의 안정성과 강건성(Robustness)을 극대화.</p>
            <p><strong>진행 상태:</strong> <span class="status completed">완료.</span></p>

            <h3>Phase 4 (4세대 XL 모델 개발 및 1차 검증)</h3>
            <p><strong>목표:</strong> 3세대 모델의 '모델 용량 부족' 한계를 극복하기 위해, 더 깊고 넓은 'Prognos-XL+' 아키텍처를 적용하고, 엄격한 <strong>시계열 분할(Time-Series Split)</strong> 데이터로 아키텍처의 시간적 일반화 성능을 검증.</p>
            <p><strong>진행 상태:</strong> <span class="status completed">완료.</span> (3세대 대비 <strong>유의미한 성능 향상(MAPE 4.73%)을 달성</strong>)</p>

            <h3>Phase 5 (사전학습: '패턴 번역기' 능력 극대화)</h3>
            <p><strong>목표:</strong> 모델이 최대한 다양한 시대와 종목의 패턴을 학습하여 '시장의 보편적인 문법'을 내재화하도록, <strong>'패턴 번역 능력'에 초점을 맞춘 사전학습(Pre-training)을 수행.</strong></p>
            <p><strong>진행 상태:</strong> <span class="status planned">계획 완료</span></p>

            <h3>Phase 6 (미세조정: '미래 예측기' 능력 강화)</h3>
            <p><strong>목표:</strong> 강력한 패턴 번역 능력을 갖춘 사전학습 모델을, 실제 사용 환경과 동일한 <strong>'미래 예측' 과제에 맞게 미세조정(Fine-tuning)하여 최종 성능을 완성.</strong></p>
            <p><strong>진행 상태:</strong> <span class="status planned">계획 완료</span></p>

            <h3>Phase 7 (최종 모델 확정, 최적화 및 UI 연동)</h3>
            <p><strong>목표:</strong> Phase 5와 Phase 6의 성능을 종합 비교하여 서비스에 배포할 <strong>최종 모델을 확정.</strong> 모델을 <strong>양자화(Quantization)</strong>하여 최적화하고, 백엔드 API를 통해 실제 UI와 연동하여 프로젝트를 완성.</p>
            <p><strong>진행 상태:</strong> <span class="status planned">계획 완료</span></p>
        </section>
        
        <section>
            <h2>3. 주요 기능 및 UI 프로토타입 (UI/UX)</h2>
            <p>과거 '향후 과제'였던 UI 개발이 시작되어 현재 동적인 프로토타입이 구현된 상태입니다.</p>

            <h3>기술 스택</h3>
            <ul>
                <li><strong>프론트엔드:</strong> 순수 HTML, CSS, JavaScript 기반</li>
                <li><strong>동적 차트 시각화:</strong> <strong><code>ApexCharts.js</code></strong> 라이브러리 사용.</li>
                <li><strong>백엔드:</strong> Python <strong><code>Flask</code></strong>로 구축.</li>
            </ul>

            <h3>핵심 기능 (구현 완료)</h3>
            <ul>
                <li><strong>티커 입력 및 과거 차트 조회:</strong> Flask 백엔드가 `yfinance`를 통해 최신 60일치 데이터를 가져와 캔들스틱 차트로 시각화.</li>
                <li><strong>미래 예측 실행 (시뮬레이션):</strong> 'FORECAST!' 버튼 클릭 시, 미리 정의된 샘플 예측 결과를 미래 차트 영역에 렌더링.</li>
                <li><strong>다국어/테마 지원:</strong> 한국어/영어 전환 토글 기능 및 'Aetherial Light' / 'Nordic Noir' 컬러 테마 실시간 전환 기능 구현.</li>
            </ul>

            <h3>향후 과제 (UI)</h3>
            <ul>
                <li><strong>실제 모델 연동:</strong> 현재 시뮬레이션으로 동작하는 미래 예측 기능을 실제 백엔드의 `/api/predict` 엔드포인트와 연동.</li>
                <li><strong>About 페이지:</strong> 프로젝트의 철학, 개발 과정, 기획서 등을 담은 별도의 정보 페이지를 구현.</li>
            </ul>
        </section>

        <section>
            <h2>4. 데이터 전략 (Phase 3: 대규모 확장 최종안)</h2>
            <h3>4.1. 데이터 명세 및 분할 전략</h3>
            <ul>
                <li><strong>데이터 수집 기간:</strong> <strong>2007-01-01</strong> ~ 현재</li>
                <li><strong>훈련/검증용 종목 그룹 (114개):</strong> 모델의 아키텍처를 개발하고 튜닝하는 데 사용.</li>
                <li><strong>테스트 전용 종목 그룹 (32개):</strong> 모델의 최종 일반화 성능을 측정하기 위해, 훈련/검증 과정에서 단 한 번도 사용되지 않는 완전히 독립된 종목들로 구성.</li>
            </ul>

            <h3>4.2. 데이터 처리 파이프라인</h3>
            <ul>
                <li><strong>구현 스크립트:</strong> <code>03_preprocess_data.py</code></li>
                <li><strong>프로세스:</strong> 각 종목의 원본 데이터(OHLCV)에 <strong>RSI, Bollinger Bands, ATR, MACD</strong> 보조지표를 추가하여 피처를 생성. 이후 슬라이딩 윈도우 방식으로 시퀀스 데이터를 생성하고 정규화.</li>
            </ul>

            <h3>4.3. 평가 철학 및 전략 (Evaluation Philosophy & Strategy)</h3>
            <p>본 프로젝트의 평가 철학은 모델의 '지능'을 다각적으로 측정하기 위해 <strong>두 가지의 독립적이고 상호 보완적인 일반화 검증</strong>을 모두 수행하는 것으로 진화했다.</p>
            
            <h4>1. 검증 1: 패턴 번역 능력 (보간/추론 일반화)</h4>
            <ul>
                <li><strong>목적:</strong> 모델이 시간의 흐름이나 특정 종목에 구애받지 않고, 시장 전반에 통용되는 <strong>'보편적인 패턴 원리'</strong> 자체를 얼마나 깊이 있게 학습했는지 측정.</li>
                <li><strong>방법:</strong> 114개 훈련/검증용 종목의 전체 샘플 풀을 무작위로 <strong>훈련(85%)/검증(15%) 세트로 분할</strong>하되, <strong>검증 세트와 시간적으로 겹치는 모든 훈련 샘플을 제거</strong>하여 주변 정보 추론 능력을 평가.</li>
            </ul>

            <h4>2. 검증 2: 미래 예측 능력 (외삽 일반화)</h4>
            <ul>
                <li><strong>목적:</strong> 모델이 겪어보지 않은 <strong>미래의 시장 상황(Regime)</strong> 변화에 얼마나 강건하게 대처하는지 측정하는 가장 정직한 검증 단계.</li>
                <li><strong>방법:</strong> 114개 종목 데이터를 시간 순으로 정렬하여 <strong>가장 오래된 95%를 훈련 세트로, 가장 최신 5%를 검증 세트</strong>로 분할하여, 미래 정보 누설을 원천적으로 방지.</li>
            </ul>
        </section>

        <section>
            <h2>5. 모델 아키텍처 진화 과정</h2>

            <h3>5.1. 1세대 모델 (MVP)</h3>
            <div class="model-card">
                <p class="card-title">별칭: 보수적인 시장 추종자 (The Conservative Market Follower)</p>
                <ul>
                    <li><strong>아키텍처:</strong> 2-Layer GRU (128 units), Dropout(0.2)</li>
                    <li><strong>핵심 특징:</strong>
                        <ul>
                            <li><strong>변동성 과소평가 (Smoothing Bias):</strong> 실제 변동성의 약 절반만 예측하여 전반적으로 평탄한 예측 결과를 보임.</li>
                            <li><strong>높은 시장 추종성:</strong> 시장 ETF(VTI)에 대해서는 MAPE 2.17%의 매우 낮은 오차율을 보였으나, 고변동성 개별주(AMD)에 대해서는 9.14%의 높은 오차율을 기록.</li>
                        </ul>
                    </li>
                    <li><strong>주요 성능 지표:</strong> MAPE 4.48%, 방향 정확도 56.34%, 변동폭 포착 비율 0.50</li>
                </ul>
            </div>

            <h3>5.2. 2세대 모델 (<code>volatility_aware_loss</code> 적용)</h3>
            <div class="model-card">
                <p class="card-title">별칭: 중장기 추세 분석가 (The Medium/Long-Term Trend Analyst)</p>
                 <ul>
                    <li><strong>아키텍처:</strong> 2-Layer GRU (128 units), Dropout(0.2)</li>
                    <li><strong>핵심 특징:</strong>
                        <ul>
                            <li><strong>변동성 예측 능력 확보:</strong> <code>volatility_aware_loss</code> 적용으로 변동폭 포착 비율이 <strong>0.66</strong>으로 대폭 개선.</li>
                            <li><strong>중장기 특화 예측:</strong> 예측 초기(1~6일)는 부정확하지만, 예측 기간이 길어질수록(13~20일) 방향 정확도가 58%에 근접.</li>
                            <li><strong>일반화 가능성:</strong> 시장 ETF 의존도를 낮추고, 고변동성 개별주(AMD) 오차율을 소폭 개선.</li>
                        </ul>
                    </li>
                    <li><strong>주요 성능 지표:</strong> MAPE 4.44%, 방향 정확도 57.98%, 변동폭 포착 비율 0.66</li>
                </ul>
            </div>

            <h3>5.3. 3세대 모델 (대규모 데이터 + 앙상블)</h3>
            <div class="model-card">
                <p class="card-title">별칭: 강건한 가치 투자자 (The Robust Value Investor)</p>
                <ul>
                    <li><strong>아키텍처:</strong> 2세대 아키텍처를 기반으로, <strong>서로 다른 랜덤 시드(42, 100, 2025)로 3번 훈련</strong>하여 예측값을 <strong>단순 평균</strong>하여 최종 결과 도출.</li>
                    <li><strong>핵심 특징:</strong>
                        <ul>
                            <li><strong>강건성 입증:</strong> 32개의 완전히 새로운 테스트 종목에서 2세대와 유사한 성능을 유지하여 과적합되지 않은 강건성을 확보.</li>
                            <li><strong>'가치 투자자' 성향 명확화:</strong> 안정적인 우량주에서는 MAPE 2~3%대의 높은 정확도를 보였으나, 극단적 변동성을 가진 기술주 및 테마주(`TSLA`, `AMD` 등)에서는 MAPE 9~16%대의 낮은 정확도를 보임.</li>
                        </ul>
                    </li>
                    <li><strong>한계점 발견:</strong> 180개 종목의 복잡한 패턴을 모두 학습하기에는 <strong>16만 개의 파라미터가 부족</strong>하여, 모델이 학습하기 쉬운 우량주 패턴에 집중하고 고변동성 주식의 까다로운 패턴을 포기하는 경향을 보임.</li>
                    <li><strong>주요 성능 지표:</strong> MAPE 4.85%, 방향 정확도 55.64%</li>
                </ul>
            </div>

            <h3>5.4. 4세대 모델 (Prognos-XL+ 아키텍처)</h3>
            <div class="model-card">
                <p class="card-title">별칭: 심층 분석 전문가 (The Deep Dive Specialist)</p>
                <ul>
                    <li><strong>아키텍처:</strong> 3-Layer GRU (256 units), Dropout(0.3), L2 정규화(0.001)</li>
                    <li><strong>개발 목표:</strong> 3세대 모델의 '모델 용량 부족' 문제를 해결하고, 고변동성 주식의 복잡한 패턴까지 학습하여 모델의 근본적인 성능 한계를 돌파.</li>
                    <li><strong>진행 상태:</strong> <span class="status completed">완료.</span></li>
                    <li><strong>주요 성과:</strong> 3세대 모델(MAPE 4.85%) 대비 <strong>개선된 성능(MAPE 4.73%)</strong>을 기록하며, 아키텍처의 표현력과 잠재력을 성공적으로 입증.</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>6. 개발 환경 및 기술 스택</h2>
            
            <h3>6.1. 머신러닝 환경 (WSL2)</h3>
            <ul>
                <li><strong>핵심 실행 환경:</strong> <strong>WSL2 (Ubuntu 24.04 LTS)</strong></li>
                <li><strong>Python 환경:</strong> <strong><code>venv</code> 가상 환경</strong> (`wsl_env` on Python 3.11)</li>
                <li><strong>핵심 라이브러리:</strong> `TensorFlow 2.15.1`, `pandas`, `yfinance`, `pandas_ta_classic`, `tqdm`</li>
            </ul>
            
            <h3>6.2. 웹 서비스 환경 (WSL2)</h3>
            <ul>
                <li><strong>핵심 실행 환경:</strong> <strong>WSL2 (Ubuntu 24.04 LTS)</strong></li>
                <li><strong>Python 환경:</strong> <strong><code>venv</code> 가상 환경</strong> (`prognos_webapp/venv` on Python 3.12)</li>
                <li><strong>백엔드 프레임워크:</strong> <strong><code>Flask</code></strong>, `Flask-Cors`</li>
                <li><strong>프론트엔드 라이브러리:</strong> <strong><code>ApexCharts.js</code></strong></li>
                <li><strong>핵심 백엔드 라이브러리:</strong> `TensorFlow 2.16.1`, `yfinance`, `pandas`, `pandas_ta_classic`</li>
            </ul>
        </section>

        <section>
            <h2>7. 개발 프로세스 및 향후 과제</h2>
            <h3>완료된 과업</h3>
            <ol>
                <li>프로젝트 기획 및 1~3세대 모델 개발 완료.</li>
                <li>`prognos_dataset.npz` 생성 및 `Flask` 기반 웹 UI 프로토타입 개발 완료.</li>
                <li>4세대 `Prognos-XL+` 모델의 앙상블 훈련 및 1차 성능 평가 완료 (MAPE 4.73%).</li>
                <li>프로젝트 평가 철학 심화 및 <strong>'사전학습-미세조정' 하이브리드 전략 최종 확정.</strong></li>
            </ol>
            
            <h3>향후 과제 (Next Steps)</h3>
            <ol>
                <li><strong>(예정) Phase 5: '패턴 번역기' 사전학습 스크립트 개발 (`04c_pretrain_model.py`)</strong>: 중첩을 배제한 무작위 훈련/검증 세트 분할 로직을 구현한다.</li>
                <li><strong>(예정) Phase 5: 사전학습 모델 훈련 및 1차 평가</strong>: <strong>베이스라인 성능</strong>을 측정하고 기록한다.</li>
                <li><strong>(예정) Phase 6: '미래 예측기' 미세조정 스크립트 개발 (`04d_finetune_model.py`)</strong>: 사전학습된 모델을 불러와, 엄격한 시간순 훈련/검증 데이터셋으로 추가 학습하는 로직을 구현한다.</li>
                <li><strong>(예정) Phase 6: 미세조정 모델 훈련 및 2차 평가</strong>: <strong>최종 예측 능력 점수</strong>를 측정하고, 사전학습 모델의 점수와 비교 분석한다.</li>
                <li><strong>(예정) Phase 7: 최종 모델 선정 및 배포</strong>: 1차, 2차 평가 결과를 비교 분석하여 최상의 성능을 보인 모델을 최종 선정하고, 모델 <strong>양자화(Quantization)</strong>를 통해 최적화한 뒤 웹 UI에 연동하여 실제 예측 기능을 완성한다.</li>
            </ol>
        </section>
    </div>

    <!-- 기능 실행 스크립트 (5.3 HTML에서 그대로 유지) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const saveButton = document.getElementById('save-btn');
            const captureArea = document.getElementById('capture-area');
            const themeButtons = document.querySelectorAll('.theme-switcher button');
            const body = document.body;

            // 테마 설정 함수
            const setTheme = (themeName) => {
                body.dataset.theme = themeName;
                localStorage.setItem('prognos-theme', themeName);

                themeButtons.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.theme === themeName);
                });
            };

            // 테마 버튼에 클릭 이벤트 추가
            themeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    setTheme(button.dataset.theme);
                });
            });

            // 페이지 로드 시 저장된 테마 적용
            const savedTheme = localStorage.getItem('prognos-theme') || 'default-light';
            setTheme(savedTheme);

            // 이미지 캡처 기능
            saveButton.addEventListener('click', () => {
                saveButton.innerText = '이미지 생성 중...';
                saveButton.disabled = true;

                html2canvas(captureArea, {
                    scale: 2, 
                    useCORS: true,
                    backgroundColor: getComputedStyle(body).getPropertyValue('--color-background')
                }).then(canvas => {
                    const imageURL = canvas.toDataURL('image/png');
                    const downloadLink = document.createElement('a');
                    downloadLink.href = imageURL;
                    downloadLink.download = '프로그노스_개발기획서.png';
                    downloadLink.click();
                    
                    saveButton.innerText = '이 기획서 이미지로 저장하기';
                    saveButton.disabled = false;
                }).catch(err => {
                    console.error("Image capture failed:", err);
                    saveButton.innerText = '오류 발생! 다시 시도하세요.';
                    saveButton.disabled = false;
                });
            });
        });
    </script>
</body>
</html>